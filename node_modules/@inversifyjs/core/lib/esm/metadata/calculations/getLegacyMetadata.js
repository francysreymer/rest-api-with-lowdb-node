import { INJECT_TAG, MULTI_INJECT_TAG, NAME_TAG, NAMED_TAG, OPTIONAL_TAG, UNMANAGED_TAG, } from '../../reflectMetadata/data/keys';
import { ClassElementMetadataKind } from '../models/ClassElementMetadataKind';
export function getLegacyMetadata(classElementMetadata) {
    switch (classElementMetadata.kind) {
        case ClassElementMetadataKind.unmanaged:
            return getUnmanagedLegacyMetadata();
        default:
            return getManagedLegacyMetadata(classElementMetadata);
    }
}
function getManagedLegacyMetadata(classElementMetadata) {
    const legacyMetadataList = [
        getManagedKindLegacyMetadata(classElementMetadata),
    ];
    if (classElementMetadata.name !== undefined) {
        legacyMetadataList.push({
            key: NAMED_TAG,
            value: classElementMetadata.name,
        });
    }
    if (classElementMetadata.optional) {
        legacyMetadataList.push({
            key: OPTIONAL_TAG,
            value: true,
        });
    }
    for (const [tagKey, tagValue] of classElementMetadata.tags) {
        legacyMetadataList.push({
            key: tagKey,
            value: tagValue,
        });
    }
    if (classElementMetadata.targetName !== undefined) {
        legacyMetadataList.push({
            key: NAME_TAG,
            value: classElementMetadata.targetName,
        });
    }
    return legacyMetadataList;
}
function getManagedKindLegacyMetadata(classElementMetadata) {
    let kindLegacyMetadata;
    switch (classElementMetadata.kind) {
        case ClassElementMetadataKind.multipleInjection:
            kindLegacyMetadata = {
                key: MULTI_INJECT_TAG,
                value: classElementMetadata.value,
            };
            break;
        case ClassElementMetadataKind.singleInjection:
            kindLegacyMetadata = {
                key: INJECT_TAG,
                value: classElementMetadata.value,
            };
            break;
    }
    return kindLegacyMetadata;
}
function getUnmanagedLegacyMetadata() {
    return [
        {
            key: UNMANAGED_TAG,
            value: true,
        },
    ];
}
//# sourceMappingURL=getLegacyMetadata.js.map